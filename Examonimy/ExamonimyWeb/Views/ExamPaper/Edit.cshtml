@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Chỉnh sửa đề thi";
    Layout = "_TeacherLayout";
}
@model ExamPaperEditViewModel
@await Html.PartialAsync("_PageHeadingPartial", "Chỉnh sửa đề thi")

<!-- Tab -->
<div>
    <div class="hidden sm:block">
        <nav id="tab-button-container" class="flex space-x-4" aria-label="Tabs">
            <!-- Current: "bg-gray-200 text-gray-800", Default: "text-gray-600 hover:text-gray-800" -->
            <button type="button" data-tab="edit" class="tab-btn bg-gray-200 text-gray-800 rounded-md px-3 py-2 text-sm font-medium">Chỉnh sửa</button>
            <button type="button" data-tab="preview" class="tab-btn text-gray-600 hover:text-gray-800 rounded-md px-3 py-2 text-sm font-medium">Xem trước</button>           
        </nav>
    </div>
</div>

<!-- Editor -->
<div id="editor-container" class="flex justify-between gap-x-20">
    <div id="exam-paper-container" class="basis-1/2" data-exam-paper-id="@Model.ExamPaperId">
        @await Html.PartialAsync("_SectionHeadingPartial", new SectionHeadingViewModel("Danh sách câu hỏi", "Bạn có thể chỉnh sửa danh sách câu hỏi bằng cách kéo thả từ ngân hàng câu hỏi bên phải."))  
        <div id="exam-paper-question-list-container" class="mb-8">

        </div>
        <div class="relative">
            <div class="absolute inset-0 flex items-center" aria-hidden="true">
                <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center">
                <button type="button" id="add-empty-question-btn" class="inline-flex items-center gap-x-1.5 rounded-full bg-white px-3 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-0 ring-inset ring-gray-300 hover:bg-gray-50">
                    <svg class="-ml-1 -mr-0.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                    </svg>
                    Thêm câu hỏi
                </button>
            </div>
        </div>
    </div>
    <div id="question-bank-container" class="basis-1/2" data-course-id="@Model.CourseId">
        <div class="sticky top-24">
            @await Html.PartialAsync("_SectionHeadingPartial", new SectionHeadingViewModel("Ngân hàng câu hỏi", "Đây là ngân hàng câu hỏi mà bạn có thể kéo thả vào trong đề thi."))
            <div id="question-list-palette-container">

            </div>
        </div>      
    </div>
</div>

<!-- Preview -->
<div id="preview-container" class="w-1/2 mx-auto hidden">
    @await Html.PartialAsync("_SectionHeadingPartial", new SectionHeadingViewModel("Xem trước", "Vui lòng kiểm tra lại đề thi lần cuối trước khi bạn nhấn cập nhật."))
    <div id="exam-paper-preview-container">

    </div>    
</div>

<!-- Update button -->
<div id="button-container" class="flex items-center gap-x-5 justify-end hidden">
    <a href="/exam-paper" class="font-semibold text-violet-700 hover:text-violet-600">Huỷ</a>
    <button type="button" id="update-exam-paper-btn" class="w-28 rounded-md bg-violet-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-violet-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-600"><span class="button-text">Cập nhật</span></button>
</div>

<script src="~/js/pages/exam-paper-edit.page.js" type="module"></script>
