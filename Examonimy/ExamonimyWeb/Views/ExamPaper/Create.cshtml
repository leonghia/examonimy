@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "_AdminSidebar";
    ViewData["Title"] = "Create new exam paper";
}
<div>
    @await Html.PartialAsync("_PageHeadingPartial", "Tạo đề thi mới")

    <div>
        <!-- Stepper -->
        <nav aria-label="Progress" class="mb-20">
            <ol id="stepper-container" role="list" class="flex items-center justify-center">
                
            </ol>
        </nav>

        <!-- Segment 1 (Select course) -->
        <div id="segment-1" data-order="1" class="segment">
            @await Html.PartialAsync("_SectionHeadingPartial", new SectionHeadingViewModel("Chọn môn học", "Vui lòng lựa chọn môn học cho đề thi bạn muốn tạo."))
            <div id="course-container" class="mt-8 grid grid-cols-1 gap-y-6 sm:grid-cols-4 sm:gap-x-4">

            </div>
            <div id="pagination-container" class="mt-10 flex items-center justify-center col-span-2">
                <div class="flex items-center justify-between w-full text-gray-600 dark:text-gray-400 bg-gray-100 rounded-lg dark:bg-gray-600 max-w-[128px] mx-2">
                    <button id="prev-btn" type="button" class="inline-flex items-center justify-center h-8 px-1 w-6 bg-gray-100 rounded-s-lg dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-800">
                        <svg class="w-2 h-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4" />
                        </svg>
                        <span class="sr-only">Previous page</span>
                    </button>
                    <span id="pagination-info" class="flex-shrink-0 mx-1 text-sm font-medium space-x-0.5 rtl:space-x-reverse"></span>
                    <button id="next-btn" type="button" class="inline-flex items-center justify-center h-8 px-1 w-6 bg-gray-100 rounded-e-lg dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-800">
                        <svg class="w-2 h-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
                        </svg>
                        <span class="sr-only">Next page</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Segment 2 (Fill in details) -->
        <div id="segment-2" data-order="2" class="segment flex justify-center hidden">
            <div class="basis-1/2">
                @await Html.PartialAsync("_SectionHeadingPartial", new SectionHeadingViewModel("Nhập thông tin", "Vui lòng nhập các thông tin cần thiết như mã đề, số lượng câu hỏi, thời gian làm bài, số điểm cần đạt cho đề thi bạn muốn tạo."))
                <div id="detail-container" class="mt-8 bg-white rounded-lg p-8">                  

                    <!-- Exam paper code -->
                    <div class="w-1/3 mb-8">
                        <label for="exam-paper-code" class="block text-sm font-medium leading-6 text-gray-900">Mã đề thi</label>
                        <div class="mt-2 flex rounded-md shadow-sm">
                            <span class="inline-flex items-center rounded-l-md bg-gray-200 px-3 text-gray-500 sm:text-sm">ENJS</span>
                            <input type="text" name="examPaperCode" id="exam-paper-code" class="block w-full bg-gray-100 min-w-0 flex-1 rounded-none rounded-r-md border-0 py-1.5 text-gray-900 border-gray-200 placeholder:text-gray-400 focus:ring-0 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                        </div>
                        <p class="mt-2 text-sm text-red-600 hidden" id="-error">Mã đề thi này đã bị trùng.</p>
                    </div>

                    <div class="flex items-center gap-x-8 mb-8">
                        <!-- Numbers of questions -->
                        <div class="basis-1/2">
                            <label for="number-of-question" class="block text-sm font-medium leading-6 text-gray-900">Số lượng câu hỏi</label>
                            <div class="mt-2">
                                <input type="number" name="numbersOfQuestion" id="numbers-of-question" class="block w-full bg-gray-100 rounded-md border-0 py-1.5 text-gray-900 shadow-sm placeholder:text-gray-400 focus:ring-0 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                            </div>
                        </div>
                        <!-- Time allowed -->
                        <div class="basis-1/2">
                            <label for="time-allowed-in-minutes" class="block text-sm font-medium leading-6 text-gray-900">Thời gian làm bài (phút)</label>
                            <div class="mt-2">
                                <input type="number" name="timeAllowedInMinutes" id="time-allowed-in-minutes" class="block w-full bg-gray-100 rounded-md border-0 py-1.5 text-gray-900 shadow-sm placeholder:text-gray-400 focus:ring-0 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                            </div>
                        </div>
                    </div> 
                    
                    <!-- Mark to pass -->
                    <div class="mb-8">
                        <label for="mark-to-pass" class="block text-sm font-medium leading-6 text-gray-900">Số điểm cần đạt</label>
                        <div class="relative mt-2">                        
                            <input id="labels-range-input" type="range" value="50" min="0" max="100" step="25" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                            <span class="text-sm font-medium text-gray-500 dark:text-gray-400 absolute start-0 -bottom-6">0%</span>
                            <span class="text-sm font-medium text-gray-500 dark:text-gray-400 absolute start-1/4 -translate-x-1/2 rtl:translate-x-1/2 -bottom-6">25%</span>
                            <span class="text-sm font-medium text-gray-500 dark:text-gray-400 absolute start-1/2 -translate-x-1/2 rtl:translate-x-1/2 -bottom-6">50%</span>
                            <span class="text-sm font-medium text-gray-500 dark:text-gray-400 absolute start-3/4 -translate-x-1/2 rtl:translate-x-1/2 -bottom-6">75%</span>
                            <span class="text-sm font-medium text-gray-500 dark:text-gray-400 absolute end-0 -bottom-6">100%</span>
                        </div>

                    </div>
                </div>
            </div>
            
        </div>

        <!-- Segment 3 (Add questions) -->
        <div id="segment-3" data-order="3" class="segment flex gap-x-12 hidden">
            <div class="basis-1/2">
                @await Html.PartialAsync("_SectionHeadingPartial", new SectionHeadingViewModel("Thêm câu hỏi", "Vui lòng thêm danh sách câu hỏi từ ngân hàng câu hỏi vào trong đề thi."))
                <div id="question-list-container" class="mt-8 flex flex-col gap-y-10">
                    <div data-number="1" class="bg-white rounded-lg p-6">
                        <p class="font-semibold text-base text-gray-900 mb-4">Câu 1</p>
                        <button type="button" class="relative block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v20c0 4.418 7.163 8 16 8 1.381 0 2.721-.087 4-.252M8 14c0 4.418 7.163 8 16 8s16-3.582 16-8M8 14c0-4.418 7.163-8 16-8s16 3.582 16 8m0 0v14m0-4c0 4.418-7.163 8-16 8S8 28.418 8 24m32 10v6m0 0v6m0-6h6m-6 0h-6" />
                            </svg>
                            <span class="mt-2 block text-sm font-semibold text-violet-700">Thêm câu hỏi</span>
                        </button>
                    </div>
                    <div data-number="2" class="bg-white rounded-lg p-6">
                        <p class="font-semibold text-base text-gray-900 mb-4">Câu 2</p>
                        <button type="button" class="relative block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v20c0 4.418 7.163 8 16 8 1.381 0 2.721-.087 4-.252M8 14c0 4.418 7.163 8 16 8s16-3.582 16-8M8 14c0-4.418 7.163-8 16-8s16 3.582 16 8m0 0v14m0-4c0 4.418-7.163 8-16 8S8 28.418 8 24m32 10v6m0 0v6m0-6h6m-6 0h-6" />
                            </svg>
                            <span class="mt-2 block text-sm font-semibold text-violet-700">Thêm câu hỏi</span>
                        </button>
                    </div>
                    <div data-number="3" class="bg-white rounded-lg p-6">
                        <p class="font-semibold text-base text-gray-900 mb-4">Câu 3</p>
                        <button type="button" class="relative block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v20c0 4.418 7.163 8 16 8 1.381 0 2.721-.087 4-.252M8 14c0 4.418 7.163 8 16 8s16-3.582 16-8M8 14c0-4.418 7.163-8 16-8s16 3.582 16 8m0 0v14m0-4c0 4.418-7.163 8-16 8S8 28.418 8 24m32 10v6m0 0v6m0-6h6m-6 0h-6" />
                            </svg>
                            <span class="mt-2 block text-sm font-semibold text-violet-700">Thêm câu hỏi</span>
                        </button>
                    </div>
                    <div data-number="3" class="bg-white rounded-lg p-6">
                        <p class="font-semibold text-base text-gray-900 mb-4">Câu 4</p>
                        <button type="button" class="relative block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v20c0 4.418 7.163 8 16 8 1.381 0 2.721-.087 4-.252M8 14c0 4.418 7.163 8 16 8s16-3.582 16-8M8 14c0-4.418 7.163-8 16-8s16 3.582 16 8m0 0v14m0-4c0 4.418-7.163 8-16 8S8 28.418 8 24m32 10v6m0 0v6m0-6h6m-6 0h-6" />
                            </svg>
                            <span class="mt-2 block text-sm font-semibold text-violet-700">Thêm câu hỏi</span>
                        </button>
                    </div>
                    <div data-number="3" class="bg-white rounded-lg p-6">
                        <p class="font-semibold text-base text-gray-900 mb-4">Câu 5</p>
                        <button type="button" class="relative block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v20c0 4.418 7.163 8 16 8 1.381 0 2.721-.087 4-.252M8 14c0 4.418 7.163 8 16 8s16-3.582 16-8M8 14c0-4.418 7.163-8 16-8s16 3.582 16 8m0 0v14m0-4c0 4.418-7.163 8-16 8S8 28.418 8 24m32 10v6m0 0v6m0-6h6m-6 0h-6" />
                            </svg>
                            <span class="mt-2 block text-sm font-semibold text-violet-700">Thêm câu hỏi</span>
                        </button>
                    </div>
                </div>
            </div>   
            <div class="basis-1/2">
                <div class="sticky top-24">
                    @await Html.PartialAsync("_SectionHeadingPartial", new SectionHeadingViewModel("Ngân hàng câu hỏi", "Đây là danh sách các câu hỏi từ ngân hàng mà bạn có thể thêm vào đề thi."))
                    <div class="mt-8 mx-auto transform divide-y divide-gray-100 overflow-hidden rounded-lg bg-white transition-all">
                        <div class="relative">
                            <svg class="pointer-events-none absolute left-4 top-3.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                            </svg>
                            <input type="text" class="h-12 w-full border-0 bg-transparent pl-11 pr-4 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm" placeholder="Search..." role="combobox" aria-expanded="false" aria-controls="options">
                        </div>

                        <!-- Results, show/hide based on command palette state -->
                        <ul class="max-h-96 scroll-py-3 overflow-y-auto p-3" id="options" role="listbox">
                            <!-- Active: "bg-gray-100" -->
                            <li class="group flex cursor-default select-none rounded-xl p-3" id="option-1" role="option" tabindex="-1">
                                <div class="flex h-10 w-10 flex-none items-center justify-center rounded-lg bg-indigo-500">
                                    <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                                    </svg>
                                </div>
                                <div class="ml-4 flex-auto">
                                    <!-- Active: "text-gray-900", Not Active: "text-gray-700" -->
                                    <p class="text-sm font-medium text-gray-700">Text</p>
                                    <!-- Active: "text-gray-700", Not Active: "text-gray-500" -->
                                    <p class="text-sm text-gray-500">Add freeform text with basic formatting options.</p>
                                </div>
                            </li>

                            <!-- More items... -->
                        </ul>

                        <!-- Empty state, show/hide based on command palette state -->
                        <div class="px-6 py-14 text-center text-sm sm:px-14">
                            <svg class="mx-auto h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
                            </svg>
                            <p class="mt-4 font-semibold text-gray-900">No results found</p>
                            <p class="mt-2 text-gray-500">No components found for this search term. Please try again.</p>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>

        <!-- Segment 4 (Preview) -->
        <div id="segment-4" data-order="4" class="segment hidden">
            @await Html.PartialAsync("_SectionHeadingPartial", new SectionHeadingViewModel("Xem trước", "Vui lòng kiểm tra lại đề thi lần cuối trước khi bạn nhấn tạo."))
            <div id="preview-container" class="mt-8">
               
            </div>
        </div>

    </div>
</div>
<script src="~/js/pages/create-exam-paper.page.js" type="module"></script>
